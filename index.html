<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Calculator</title>
    <style>
      * {
        box-sizing: border-box;
      }
      .cal-container table {
        margin: auto;
        border-collapse: collapse;
        width: 300px;
      }
      td {
        color: #5c5958;
        width: 25%;
        height: 50px;
      }
      td input {
        width: 100%;
        height: 100%;
        color: #e1e1e1;
        font-weight: bold;
        text-align: center;
        font-size: 25px;
        border: 2px solid #5c5958;
      }

      td.operator input {
        background-color: #ff9f08;
      }
      td.other input {
        background-color: #6b6868;
        font-size: 25px;
      }
      td.main input {
        background-color: #6b6868;
      }
      input.answer {
        background-color: #5c5958;
        color: #e1e1e1;
        width: 100%;
        height: 100%;
        font-size: 2.3em;
        text-align: right;
        border: none;
        text-shadow: 0 0 0 gray;
        border-radius: 5px 5px 0 0;
        padding: 5px;
      }
      input.answer:focus {
        outline: none;
      }
    </style>
  </head>
  <body>
    <div class="cal-container">
      <form name="calculator">
        <table>
          <tr>
            <td colspan="4">
              <input
                class="answer"
                type="text"
                name="answer"
                onkeypress="return false;"
              />
            </td>
          </tr>
          <tr>
            <td class="other">
              <input
                type="button"
                value="AC"
                onclick="calculator.answer.value = ''"
              />
            </td>
            <td class="other">
              <input
                type="button"
                value="C"
                onclick="calculator.answer.value = calculator.answer.value.slice(0, -1)"
              />
            </td>
            <td class="other">
              <input
                type="button"
                value="%"
                onclick="calculator.answer.value += '%'"
              />
            </td>
            <td class="operator">
              <input
                type="button"
                value="&divide;"
                onclick="calculator.answer.value += '/'"
              />
            </td>
          </tr>
          <tr>
            <td class="main">
              <input
                type="button"
                value="7"
                onclick="calculator.answer.value += '7'"
              />
            </td>
            <td class="main">
              <input
                type="button"
                value="8"
                onclick="calculator.answer.value += '8'"
              />
            </td>
            <td class="main">
              <input
                type="button"
                value="9"
                onclick="calculator.answer.value += '9'"
              />
            </td>
            <td class="operator">
              <input
                type="button"
                value="&#215;"
                onclick="calculator.answer.value += '*'"
              />
            </td>
          </tr>
          <tr>
            <td class="main">
              <input
                type="button"
                value="4"
                onclick="calculator.answer.value += '4'"
              />
            </td>
            <td class="main">
              <input
                type="button"
                value="5"
                onclick="calculator.answer.value += '5'"
              />
            </td>
            <td class="main">
              <input
                type="button"
                value="6"
                onclick="calculator.answer.value += '6'"
              />
            </td>
            <td class="operator">
              <input
                type="button"
                value="&ndash;"
                onclick="calculator.answer.value += '-'"
              />
            </td>
          </tr>
          <tr>
            <td class="main">
              <input
                type="button"
                value="1"
                onclick="calculator.answer.value += '1'"
              />
            </td>
            <td class="main">
              <input
                type="button"
                value="2"
                onclick="calculator.answer.value += '2'"
              />
            </td>
            <td class="main">
              <input
                type="button"
                value="3"
                onclick="calculator.answer.value += '3'"
              />
            </td>
            <td class="operator">
              <input
                type="button"
                value="+"
                onclick="calculator.answer.value += '+'"
              />
            </td>
          </tr>
          <tr>
            <td class="main" colspan="2">
              <input
                type="button"
                value="0"
                onclick="calculator.answer.value += '0'"
              />
            </td>
            <td class="main">
              <input
                type="button"
                value="."
                onclick="calculator.answer.value += '.'"
              />
            </td>
            <td class="operator">
              <input type="button" value="=" onclick="calculate()" />
            </td>
          </tr>
        </table>
      </form>
    </div>

    <script>
      function calculate() {
        var errorCount = 0;
        var specialCharacters = /[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/;
        var operations = calculator.answer.value;
        var operElements = operations.split("");
        for (let i = 0; i < operElements.length; i++) {
          if (
            (specialCharacters.test(operElements[i]) &&
              specialCharacters.test(operElements[i + 1])) ||
            specialCharacters.test(operElements[operElements.length - 1])
          ) {
            alert("Wrong operation !!!");
            calculator.answer.value = "";
            errorCount++;
          }
        }
        if (errorCount === 0) {
          calculator.answer.value = eval(calculator.answer.value);
        }
      }
    </script>
  </body>
</html>
